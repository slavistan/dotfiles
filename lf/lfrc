# View hidden files by default
set hidden

# Draw a nice box around the displayed colums
set drawbox

# Draw icons depending on file type
set icons

# Indicator for truncated file names
set truncatechar 'â‹¯'

# Use 256 color ANSI color codes req. by promptfmt
set color256

# Configure prompt to resemble my zsh-prompt
set promptfmt "\033[1;38;5;138m[ lf ] \033[1;38;5;159m%u@%h \033[38;5;15min \033[38;5;154m%w\033[0m"

# CTRL-h: toggle hidden files
map <bs> set hidden!

map i ${{
  /home/stan/prj/dotfiles/lf/preview.sh "$f" | less -R
}}

# TODO(fix): What the fuck is wrong with the previews of fritzctrl?
set previewer /home/stan/prj/dotfiles/lf/preview.sh

# Dynamically adjust column width
# TODO: Recalc columns on resize event
${{
  w=$(tput cols)
  if [ $w -le 80 ]; then
      lf -remote "send $id set ratios 1:3"
  else;
      lf -remote "send $id set ratios 1:1:3"
  fi
}}

# cmd printsel $printf "$fs\n"
# cmd printdir $pwd
